<!DOCTYPE html>
<html>
<head>
  <title>智能助手</title>
  <meta charset="utf-8">
  <link rel="stylesheet" href="sidebar.css">
</head>
<body>
  <div class="sidebar-container">
    <div class="controls">
      <button id="summarizePageButton" data-i18n="summarizePage">总结当前网页</button>
      <button id="extractContentButton" data-i18n="extractContent">提取全文作为引用</button>
      <button id="splitChatButton" data-i18n="splitChat">分割当前对话</button>
      <button id="viewArchivedChatsButton" data-i18n="viewArchived">查看已存档对话</button>
      <button id="managePromptsButton" data-i18n="managePrompts">管理 Prompt</button>
    </div>

    <div class="prompt-shortcuts-container">
      <h4 data-i18n="promptShortcuts">Prompt 快捷方式:</h4>
      <div id="promptShortcuts" class="prompt-shortcuts">
        </div>
    </div>

    <div class="chat-area">
      <div id="chatOutput">
        </div>

      <div id="selectedImagePreviewContainer" style="display:none; margin-bottom: 5px; text-align: center;">
        </div>
      <button id="clearSelectedImageButton" data-i18n="clearImage" style="display: none; margin: 0 auto 8px auto; font-size: 0.8em; padding: 3px 8px; display:block; width: fit-content; background-color: var(--control-button-bg); color: var(--control-button-text); border: none; border-radius: var(--border-radius); cursor:pointer;">清除图片</button>

      <div id="selectedTextPreview" style="display:none; font-style: italic; color: gray; padding: 5px; border: 1px dashed #ccc; margin-bottom: 5px;">
        <span data-i18n="quoteContent">引用内容:</span> <span id="selectedTextContent"></span>
        <button id="clearSelectedTextButton" data-i18n="clear" style="margin-left: 5px; font-size: 0.8em;">清除</button>
      </div>
      <textarea id="chatInput" placeholder="输入消息或使用快捷方式..."></textarea>
      <div class="send-area-container">
        <button id="sendMessageButton" data-i18n="send">发送</button>
        <button id="clearAllHistoryButton" title="清除所有历史">🗑️</button>
      </div>
    </div>
    </div>
  <script src="/libs/marked.min.js"></script>
  <script src="sidebar.js"></script>
</body>
</html>